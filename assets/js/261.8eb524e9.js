(window.webpackJsonp=window.webpackJsonp||[]).push([[261],{875:function(t,a,e){"use strict";e.r(a);var s=e(1),o=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"migrations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#migrations"}},[t._v("#")]),t._v(" Migrations")]),t._v(" "),e("h2",{attrs:{id:"state-migration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#state-migration"}},[t._v("#")]),t._v(" State Migration")]),t._v(" "),e("h2",{attrs:{id:"genesis-migration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#genesis-migration"}},[t._v("#")]),t._v(" Genesis Migration")]),t._v(" "),e("h3",{attrs:{id:"manual-genesis-migration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#manual-genesis-migration"}},[t._v("#")]),t._v(" Manual Genesis Migration")]),t._v(" "),e("p",[t._v("Evmos can dump the entire application state to a JSON file. This, besides upgrades, can be\nuseful for manual analysis of the state at a given height.")]),t._v(" "),e("p",[t._v("Export state with:")]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"ZXZtb3NkIGV4cG9ydCAmZ3Q7IG5ld19nZW5lc2lzLmpzb24K"}}),t._v(" "),e("p",[t._v("You can also export state from a particular height (at the end of processing the block of that height):")]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"ZXZtb3NkIGV4cG9ydCAtLWhlaWdodCBbaGVpZ2h0XSAmZ3Q7IG5ld19nZW5lc2lzLmpzb24K"}}),t._v(" "),e("p",[t._v("If you plan to start a new network for 0 height (i.e genesis) from the exported state, export with the "),e("code",[t._v("--for-zero-height")]),t._v(" flag:")]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"ZXZtb3NkIGV4cG9ydCAtLWhlaWdodCBbaGVpZ2h0XSAtLWZvci16ZXJvLWhlaWdodCAmZ3Q7IG5ld19nZW5lc2lzLmpzb24K"}}),t._v(" "),e("p",[t._v("Then, replace the old "),e("code",[t._v("genesis.json")]),t._v(" with "),e("code",[t._v("new_genesis.json")]),t._v(".")]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Y3AgLWYgZ2VuZXNpcy5qc29uIG5ld19nZW5lc2lzLmpzb24KbXYgbmV3X2dlbmVzaXMuanNvbiBnZW5lc2lzLmpzb24K"}}),t._v(" "),e("p",[t._v("At this point, you might want to run a script to update the exported genesis into a genesis state that is compatible with your new version.")]),t._v(" "),e("p",[t._v("You can use the "),e("code",[t._v("migrate")]),t._v(" command to migrate from a given version to the next one (eg: "),e("code",[t._v("v0.X.X")]),t._v(" to "),e("code",[t._v("v1.X.X")]),t._v("):")]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"ZXZtb3NkIG1pZ3JhdGUgW3RhcmdldC12ZXJzaW9uXSBbL3BhdGgvdG8vZ2VuZXNpcy5qc29uXSAtLWNoYWluLWlkPSZsdDtuZXdfY2hhaW5faWQmZ3Q7IC0tZ2VuZXNpcy10aW1lPSZsdDt5eXl5LW1tLWRkVGhoOm1tOnNzWiZndDsK"}})],1)}),[],!1,null,null,null);a.default=o.exports}}]);