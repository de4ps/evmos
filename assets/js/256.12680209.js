(window.webpackJsonp=window.webpackJsonp||[]).push([[256],{870:function(e,t,a){"use strict";a.r(t);var o=a(1),n=Object(o.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"antehandlers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#antehandlers"}},[e._v("#")]),e._v(" AnteHandlers")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("x/vesting")]),e._v(" module provides "),a("code",[e._v("AnteDecorator")]),e._v("s that are recursively chained together into a single "),a("a",{attrs:{href:"https://github.com/cosmos/cosmos-sdk/blob/v0.43.0-alpha1/docs/architecture/adr-010-modular-antehandler.md",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("Antehandler")]),a("OutboundLink")],1),e._v(". These decorators perform basic validity checks on an Ethereum or SDK transaction, such that it could be thrown out of the transaction Mempool.")]),e._v(" "),a("p",[e._v("Note that the "),a("code",[e._v("AnteHandler")]),e._v(" is called on both "),a("code",[e._v("CheckTx")]),e._v(" and "),a("code",[e._v("DeliverTx")]),e._v(", as Tendermint proposers presently have the ability to include in their proposed block transactions that fail "),a("code",[e._v("CheckTx")]),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"decorators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#decorators"}},[e._v("#")]),e._v(" Decorators")]),e._v(" "),a("p",[e._v("The following decorators implement the vesting logic for token delegation and performing EVM transactions.")]),e._v(" "),a("h3",{attrs:{id:"vestingdelegationdecorator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vestingdelegationdecorator"}},[e._v("#")]),e._v(" "),a("code",[e._v("VestingDelegationDecorator")])]),e._v(" "),a("p",[e._v("Validates if a transaction contains a staking delegation of unvested coins. This AnteHandler decorator will fail if:")]),e._v(" "),a("ul",[a("li",[e._v("the message is not a "),a("code",[e._v("MsgDelegate")])]),e._v(" "),a("li",[e._v("sender account cannot be found")]),e._v(" "),a("li",[e._v("sender account is not a "),a("code",[e._v("ClawbackVestingAccount")])]),e._v(" "),a("li",[e._v("the coins are still locked")]),e._v(" "),a("li",[e._v("the bond amount is greater than the coins already vested")])]),e._v(" "),a("h3",{attrs:{id:"ethvestingtransactiondecorator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ethvestingtransactiondecorator"}},[e._v("#")]),e._v(" "),a("code",[e._v("EthVestingTransactionDecorator")])]),e._v(" "),a("p",[e._v("Validates if a clawback vesting account is permitted to perform Ethereum transactions, based on if it has its vesting schedule has surpassed the vesting cliff and first lockup period. This AnteHandler decorator will fail if:")]),e._v(" "),a("ul",[a("li",[e._v("the message is not a "),a("code",[e._v("MsgEthereumTx")])]),e._v(" "),a("li",[e._v("sender account cannot be found")]),e._v(" "),a("li",[e._v("sender account is not a "),a("code",[e._v("ClawbackVestingAccount")])]),e._v(" "),a("li",[e._v("block time is before surpassing vesting cliff end (with zero vested coins) AND")]),e._v(" "),a("li",[e._v("block time is before surpassing all lockup periods (with non-zero locked coins)")])])])}),[],!1,null,null,null);t.default=n.exports}}]);