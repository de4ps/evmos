(window.webpackJsonp=window.webpackJsonp||[]).push([[294],{912:function(e,t,s){"use strict";s.r(t);var a=s(1),o=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"manual-upgrades"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#manual-upgrades"}},[e._v("#")]),e._v(" Manual Upgrades")]),e._v(" "),s("p",{attrs:{synopsis:""}},[e._v("Learn how to manually upgrade your node.")]),e._v(" "),s("h2",{attrs:{id:"pre-requisites"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pre-requisites"}},[e._v("#")]),e._v(" Pre-requisites")]),e._v(" "),s("ul",[s("li",{attrs:{prereq:""}},[s("RouterLink",{attrs:{to:"/validators/quickstart/installation.html"}},[e._v("Install Evmos")])],1)]),e._v(" "),s("h2",{attrs:{id:"_1-upgrade-the-evmos-version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-upgrade-the-evmos-version"}},[e._v("#")]),e._v(" 1. Upgrade the Evmos version")]),e._v(" "),s("p",[e._v("Before upgrading the Evmos version. Stop your instance of "),s("code",[e._v("evmosd")]),e._v(" using "),s("code",[e._v("Ctrl/Cmd+C")]),e._v(".")]),e._v(" "),s("p",[e._v("Next, upgrade the software to the desired release version. Check the Evmos "),s("a",{attrs:{href:"https://github.com/tharsis/evmos/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("releases page"),s("OutboundLink")],1),e._v(" for details on each release.")]),e._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",[e._v("Ensure that the version installed matches the one needed for the network you are running (mainnet or testnet).")])]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Y2QgZXZtb3MKZ2l0IGZldGNoIC0tYWxsICZhbXA7JmFtcDsgZ2l0IGNoZWNrb3V0ICZsdDtuZXdfdmVyc2lvbiZndDsKbWFrZSBpbnN0YWxsCg=="}}),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",[e._v("If you have issues at this step, please check that you have the latest stable version of "),s("a",{attrs:{href:"https://golang.org/dl/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Golang"),s("OutboundLink")],1),e._v(" installed.")])]),e._v(" "),s("p",[e._v("Verify that you've successfully installed Evmos on your system by using the "),s("code",[e._v("version")]),e._v(" command:")]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"JCBldm1vc2QgdmVyc2lvbiAtLWxvbmcKCm5hbWU6IGV2bW9zCnNlcnZlcl9uYW1lOiBldm1vc2QKdmVyc2lvbjogMy4wLjAKY29tbWl0OiBmZTlkZjQzMzMyODAwYTc0YTE2M2MwMTRjNjllNjI3NjVkODIwNmUzCmJ1aWxkX3RhZ3M6IG5ldGdvLGxlZGdlcgpnbzogZ28gdmVyc2lvbiBnbzEuMTggZGFyd2luL2FtZDY0Ci4uLgo="}}),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",[e._v("If the software version does not match, then please check your "),s("code",[e._v("$PATH")]),e._v(" to ensure the correct "),s("code",[e._v("evmosd")]),e._v(" is running.")])]),e._v(" "),s("h2",{attrs:{id:"_2-replace-genesis-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-replace-genesis-file"}},[e._v("#")]),e._v(" 2. Replace Genesis file")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",[e._v("You can find the latest "),s("code",[e._v("genesis.json")]),e._v(" file for mainnet or testnet in the following repositories:")]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("Mainnet")]),e._v(": "),s("a",{attrs:{href:"https://github.com/tharsis/mainnet",target:"_blank",rel:"noopener noreferrer"}},[e._v("github.com/tharsis/mainnet"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("strong",[e._v("Testnet")]),e._v(": "),s("a",{attrs:{href:"https://github.com/tharsis/testnets",target:"_blank",rel:"noopener noreferrer"}},[e._v("github.com/tharsis/testnets"),s("OutboundLink")],1)])])]),e._v(" "),s("p",[e._v("Save the new genesis as "),s("code",[e._v("new_genesis.json")]),e._v(". Then, replace the old "),s("code",[e._v("genesis.json")]),e._v(" located in your "),s("code",[e._v("config/")]),e._v(" directory with "),s("code",[e._v("new_genesis.json")]),e._v(":")]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Y2QgJEhPTUUvLmV2bW9zZC9jb25maWcKY3AgLWYgZ2VuZXNpcy5qc29uIG5ld19nZW5lc2lzLmpzb24KbXYgbmV3X2dlbmVzaXMuanNvbiBnZW5lc2lzLmpzb24K"}}),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",[e._v("We recommend using "),s("code",[e._v("sha256sum")]),e._v(" to check the hash of the downloaded genesis against the expected genesis.")]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Y2Qgfi8uZXZtb3NkL2NvbmZpZwplY2hvICZxdW90OyZsdDtleHBlY3RlZF9oYXNoJmd0OyAgZ2VuZXNpcy5qc29uJnF1b3Q7IHwgc2hhMjU2c3VtIC1jCg=="}})],1),e._v(" "),s("h2",{attrs:{id:"_3-data-reset"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-data-reset"}},[e._v("#")]),e._v(" 3. Data Reset")]),e._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",[e._v("Check "),s("RouterLink",{attrs:{to:"/validators/upgrades/upgrades.html"}},[e._v("here")]),e._v(" if the version you are upgrading require a data reset (hard fork). If this is not the case, you can skip to "),s("a",{attrs:{href:"#restart-node"}},[e._v("Restart")]),e._v(".")],1)]),e._v(" "),s("p",[e._v("Remove the outdated files and reset the data:")]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"cm0gJEhPTUUvLmV2bW9zZC9jb25maWcvYWRkcmJvb2suanNvbgpldm1vc2QgdGVuZGVybWludCB1bnNhZmUtcmVzZXQtYWxsIC0taG9tZSAkSE9NRS8uZXZtb3NkCg=="}}),e._v(" "),s("p",[e._v("Your node is now in a pristine state while keeping the original "),s("code",[e._v("priv_validator.json")]),e._v(" and "),s("code",[e._v("config.toml")]),e._v(". If you had any sentry nodes or full nodes setup before,\nyour node will still try to connect to them, but may fail if they haven't also\nbeen upgraded.")]),e._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",[e._v("ðŸš¨ "),s("strong",[e._v("IMPORTANT")]),e._v(" ðŸš¨")]),e._v(" "),s("p",[e._v("Make sure that every node has a unique "),s("code",[e._v("priv_validator.json")]),e._v(". "),s("strong",[e._v("DO NOT")]),e._v(" copy the "),s("code",[e._v("priv_validator.json")]),e._v(" from an old node to multiple new nodes. Running two nodes with the same "),s("code",[e._v("priv_validator.json")]),e._v(" will cause you to "),s("a",{attrs:{href:"https://docs.tendermint.com/master/spec/consensus/signing.html#double-signing",target:"_blank",rel:"noopener noreferrer"}},[e._v("double sign"),s("OutboundLink")],1),e._v(".")])]),e._v(" "),s("h2",{attrs:{id:"_4-restart-node"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-restart-node"}},[e._v("#")]),e._v(" 4. Restart Node")]),e._v(" "),s("p",[e._v("To restart your node once the new genesis has been updated, use the "),s("code",[e._v("start")]),e._v(" command:")]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"ZXZtb3NkIHN0YXJ0Cg=="}})],1)}),[],!1,null,null,null);t.default=o.exports}}]);