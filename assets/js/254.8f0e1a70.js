(window.webpackJsonp=window.webpackJsonp||[]).push([[254],{868:function(e,t,a){"use strict";a.r(t);var s=a(1),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"state-transitions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#state-transitions"}},[e._v("#")]),e._v(" State Transitions")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("x/vesting")]),e._v(" module allows for state transitions that create and update a clawback vesting account with "),a("code",[e._v("CreateClawbackVestingAccount")]),e._v(" or perform a clawback of unvested funds with "),a("code",[e._v("Clawback")]),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"create-clawback-vesting-account"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-clawback-vesting-account"}},[e._v("#")]),e._v(" Create Clawback Vesting Account")]),e._v(" "),a("p",[e._v("A funder creates a new clawback vesting account defining the address to fund as well as the vesting/lockup schedules. Additionally, new grants can be added to existing clawback vesting accounts with the same message.")]),e._v(" "),a("ol",[a("li",[e._v("Funder submits a "),a("code",[e._v("MsgCreateClawbackVestingAccount")]),e._v(" through one of the clients.")]),e._v(" "),a("li",[e._v("Check if\n"),a("ol",[a("li",[e._v("the vesting account address is not blocked")]),e._v(" "),a("li",[e._v("there is at least one vesting or lockup schedule provided. If one of them is absent, default to instant vesting or unlock schedule.")]),e._v(" "),a("li",[e._v("lockup and vesting total amounts are equal")])])]),e._v(" "),a("li",[e._v("Create or update a clawback vesting account and send coins from the funder to the vesting account\n"),a("ol",[a("li",[e._v("if the clawback vesting account already exists and "),a("code",[e._v("--merge")]),e._v(" is set to true, add a grant to the existing total vesting amount and update the vesting and lockup schedules.")]),e._v(" "),a("li",[e._v("else create a new clawback vesting account")])])])]),e._v(" "),a("h2",{attrs:{id:"clawback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clawback"}},[e._v("#")]),e._v(" Clawback")]),e._v(" "),a("p",[e._v("The funding address is the only address that can perform the clawback.")]),e._v(" "),a("ol",[a("li",[e._v("Funder submits a "),a("code",[e._v("MsgClawback")]),e._v(" through one of the clients.")]),e._v(" "),a("li",[e._v("Check if\n"),a("ol",[a("li",[e._v("a destination address is given and default to funder address if not")]),e._v(" "),a("li",[e._v("the destination address is not blocked")]),e._v(" "),a("li",[e._v("the account exists and is a clawback vesting account")]),e._v(" "),a("li",[e._v("account funder is same as in msg")])])]),e._v(" "),a("li",[e._v("Transfer unvested tokens from the clawback vesting account to the destination address, update the lockup schedule and remove future vesting events.")])])])}),[],!1,null,null,null);t.default=n.exports}}]);